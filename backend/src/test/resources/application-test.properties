# Configuración específica para tests
# Evita que data.sql se ejecute automáticamente en los tests

# H2 en memoria para tests
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=sa

# Hibernate crea el esquema automáticamente
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# IMPORTANTE: Deshabilitar la ejecución de data.sql en tests
spring.sql.init.mode=never
spring.jpa.defer-datasource-initialization=false

# JWT para tests - Base64 encoded key (mínimo 256 bits para HS256)
jwt.secret=dGVzdC1zZWNyZXQta2V5LWZvci10ZXN0aW5nLXB1cnBvc2VzLW9ubHktMzItY2hhcmFjdGVycw==
jwt.expiration=86400000

# CORS deshabilitado en tests
cors.allowed-origins=http://localhost:4200
