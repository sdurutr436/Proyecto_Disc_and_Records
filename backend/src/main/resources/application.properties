
# Configuración común para todos los perfiles
spring.application.name=discs-and-records-api
server.port=8080
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method

# JWT Configuration (usar variables de entorno en producción)
jwt.secret=${JWT_SECRET:dev-secret-key-for-local-development-only-change-in-production}
jwt.expiration=${JWT_EXPIRATION:86400000}

# CORS Configuration
# En desarrollo: localhost:4200 (Angular) y localhost:3000 (alternativo)
# En producción: sobreescribir con variable de entorno ALLOWED_ORIGINS
cors.allowed-origins=http://localhost:4200,http://localhost:3000

# ==========================================================================
# DEEZER PROXY - Configuración de caché, rate limiting y cooldown
# ==========================================================================

# Caché TTLs (Time To Live)
# - search/*: búsquedas (segundos)
# - album/{id}, tracks: datos estáticos (horas)
# - chart/*: tendencias (minutos)
deezer.cache.search-ttl-seconds=${DEEZER_CACHE_SEARCH_TTL:90}
deezer.cache.album-ttl-hours=${DEEZER_CACHE_ALBUM_TTL:6}
deezer.cache.chart-ttl-minutes=${DEEZER_CACHE_CHART_TTL:10}

# Rate Limiting (requests por ventana de tiempo)
# Deezer permite ~50 req/5s, usamos 40 para tener margen
deezer.rate-limit.requests-per-window=${DEEZER_RATE_LIMIT_REQUESTS:40}
deezer.rate-limit.window-seconds=${DEEZER_RATE_LIMIT_WINDOW:5}

# Cooldown (pausa cuando Deezer responde 403/429)
deezer.cooldown.duration-seconds=${DEEZER_COOLDOWN_DURATION:60}
