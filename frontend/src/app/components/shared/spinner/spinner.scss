@use '../../../../styles/00-settings/variables' as vars;
@use '../../../../styles/01-tools/mixins' as mix;

/* ========================================
   COMPONENTE: SPINNER
   Indicador de carga con estilo neobrutalista
   ======================================== */

/* --- Overlay Global --- */
.spinner-overlay {
  @include mix.overlay-backdrop(vars.$z-spinner);
  opacity: 0;
  visibility: hidden;
  transition: all vars.$transicion-base;

  &--visible {
    opacity: 1;
    visibility: visible;
  }
}

.spinner-container {
  @include mix.flex-column(vars.$espaciado-m);
  align-items: center;
  padding: vars.$espaciado-xl;
  @include mix.brutal-box(var(--bg-primary), vars.$borde-brutal-medium);
}

/* --- Mensaje de carga --- */
.spinner__message {
  font-size: vars.$tamanio-fuente-texto-pequeno-m;
  font-weight: 700;
  color: var(--text-primary);
  @include mix.text-uppercase;
  margin: 0;
}

/* --- Spinner Base --- */
.spinner {
  @include mix.flex-center;
  display: inline-flex;
}

/* --- Margarita Flower Power SVG --- */
.spinner__flower {
  animation: flower-spin 2s linear infinite;
}

.flower__petal {
  fill: var(--color-primary);
  stroke: var(--border-color);
  stroke-width: 1.5;
}

.flower__center {
  fill: var(--color-secondary);
  stroke: var(--border-color);
  stroke-width: 2;
}

.flower__center-dot {
  fill: var(--text-dark);
}

/* --- Keyframes --- */
@keyframes flower-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* ========================================
   TAMAÑOS
   ======================================== */

/* --- Small --- */
.spinner--sm .spinner__flower {
  width: calc(vars.$espaciado-l + vars.$espaciado-xs);
  height: calc(vars.$espaciado-l + vars.$espaciado-xs);
}

/* --- Medium --- */
.spinner--md .spinner__flower {
  width: calc(vars.$espaciado-xl + vars.$espaciado-xs);
  height: calc(vars.$espaciado-xl + vars.$espaciado-xs);
}

/* --- Large --- */
.spinner--lg .spinner__flower {
  width: calc(vars.$espaciado-xxl + vars.$espaciado-m);
  height: calc(vars.$espaciado-xxl + vars.$espaciado-m);
}

/* ========================================
   MODOS
   ======================================== */

/* --- Global (dentro del overlay) --- */
.spinner--global {
  .spinner__flower {
    width: 6.25rem;
    height: 6.25rem;
  }
}

/* --- Inline --- */
.spinner--inline {
  display: inline-flex;
}

/* --- Button (muy pequeño) --- */
.spinner--button {
  .spinner__flower {
    width: 1.25rem;
    height: 1.25rem;
  }
}

/* ========================================
   COLORES
   ======================================== */

/* --- Primary --- */
.spinner--primary {
  .flower__petal {
    fill: var(--color-primary);
  }
  .flower__center {
    fill: var(--color-secondary);
  }
}

/* --- Secondary --- */
.spinner--secondary {
  .flower__petal {
    fill: var(--color-secondary);
  }
  .flower__center {
    fill: var(--color-primary);
  }
}

/* --- White (para fondos oscuros) --- */
.spinner--white {
  .flower__petal {
    fill: vars.$color-letra-blanca;
    stroke: color-mix(in srgb, var(--text-white) 50%, transparent);
  }
  .flower__center {
    fill: var(--color-primary);
    stroke: vars.$color-letra-blanca;
  }
  .flower__center-dot {
    fill: vars.$color-letra-blanca;
  }
}

/* ========================================
   RESPONSIVE
   ======================================== */
@include mix.mobile-down {
  .spinner-container {
    padding: vars.$espaciado-l;
  }

  .spinner--global .spinner__flower {
    width: 4.5rem;
    height: 4.5rem;
  }

  .spinner__message {
    font-size: vars.$tamanio-fuente-texto-pequeno-s;
  }
}
