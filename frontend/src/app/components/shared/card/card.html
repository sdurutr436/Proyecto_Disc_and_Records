<article [class]="cardClasses">
  <!-- Variante Profile: Imagen + Título en columna izquierda -->
  @if (cardType === 'profile') {
    <!-- Columna izquierda: imagen con título debajo -->
    <section class="card__left">
      <div [class]="imageClasses">
        @if (imageUrl) {
          <img
            [src]="imageUrl"
            [alt]="imageAlt"
            width="200"
            height="200"
            loading="lazy"
            decoding="async"
          />
        } @else if (placeholderIcon) {
          <span class="card__placeholder card__placeholder--svg" [innerHTML]="safePlaceholderIcon"></span>
        } @else {
          <span class="card__placeholder"><lucide-icon name="music" [size]="32"></lucide-icon></span>
        }
      </div>
      <div class="card__text">
        @if (title) {
          <h3 class="card__title">{{ title }}</h3>
        }
        @if (subtitle) {
          <p class="card__subtitle">{{ subtitle }}</p>
        }
      </div>
    </section>

    <!-- Columna derecha: badges arriba, botones abajo -->
    <section class="card__right">
      @if (badges.length > 0) {
        <div class="card__badges">
          @for (badge of badges; track badge; let i = $index) {
            <span
              class="card__badge"
              [class.card__badge--alt]="i % 2 !== 0">
              {{ badge }}
            </span>
          }
        </div>
      }
      @if (actions.length > 0) {
        <div class="card__actions">
          @for (action of actions; track action.label) {
            <button
              type="button"
              [class]="'card__action card__action--' + action.variant"
              (click)="onActionClick(action, $event)">
              @if (action.icon) {
                <span class="card__action-icon" [innerHTML]="action.icon"></span>
              }
              <span class="card__action-label">{{ action.label }}</span>
            </button>
          }
        </div>
      }
    </section>
  } @else {
    <!-- Variante Polaroid: estructura original -->
    <section [class]="imageClasses">
      @if (imageUrl) {
        <img
          [src]="imageUrl"
          [alt]="imageAlt"
          width="200"
          height="200"
          loading="lazy"
          decoding="async"
        />
      } @else if (placeholderIcon) {
        <span class="card__placeholder card__placeholder--svg" [innerHTML]="safePlaceholderIcon"></span>
      } @else {
        <span class="card__placeholder"><lucide-icon name="music" [size]="32"></lucide-icon></span>
      }
    </section>

    <section class="card__content">
      <div class="card__text">
        @if (title && titleLink) {
          <a [href]="titleLink" class="card__title card__title--link">
            {{ title }}
          </a>
        } @else if (title) {
          <h3 class="card__title">{{ title }}</h3>
        }

        @if (subtitle && subtitleLink) {
          <a [href]="subtitleLink" class="card__subtitle card__subtitle--link">
            {{ subtitle }}
          </a>
        } @else if (subtitle) {
          <p class="card__subtitle">{{ subtitle }}</p>
        }
      </div>
    </section>
  }
</article>
