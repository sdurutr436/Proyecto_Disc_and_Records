<div class="carousel" [class.carousel--multi-row]="rows > 1"
     role="region"
     [attr.aria-labelledby]="title ? titleId : null"
     [attr.aria-label]="!title ? 'Carrusel de álbumes' : null">
  <!-- Título del carrusel -->
  @if (title) {
    <h2 class="carousel__title" [id]="titleId">{{ title }}</h2>
  }

  <!-- Contenedor del carrusel con navegación -->
  <div class="carousel__container" role="group" aria-label="Navegación del carrusel">
    <!-- Botón anterior -->
    @if (canScrollLeft) {
      <button
        type="button"
        class="carousel__nav carousel__nav--prev"
        (click)="scrollLeft()"
        [attr.aria-label]="'Mostrar álbumes anteriores en ' + (title || 'carrusel')"
        [attr.aria-describedby]="titleId + '-nav-help'"
      >
        ‹
      </button>
    }

    <!-- Track de items -->
    <div
      class="carousel__track"
      [class.carousel__track--rows-2]="rows === 2"
      #carouselTrack
      role="list"
      aria-label="Lista de álbumes"
    >
      <ng-content></ng-content>
    </div>

    <!-- Botón siguiente -->
    @if (canScrollRight) {
      <button
        type="button"
        class="carousel__nav carousel__nav--next"
        (click)="scrollRight()"
        [attr.aria-label]="'Mostrar álbumes siguientes en ' + (title || 'carrusel')"
        [attr.aria-describedby]="titleId + '-nav-help'"
      >
        ›
      </button>
    }

    <!-- Texto de ayuda oculto visualmente -->
    <div [id]="titleId + '-nav-help'" class="sr-only">
      Use las flechas del teclado o los botones para navegar por los álbumes. Presione Tab para acceder a cada álbum individualmente.
    </div>
  </div>
</div>
