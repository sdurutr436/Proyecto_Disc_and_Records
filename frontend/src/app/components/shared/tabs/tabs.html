<!--
  BLOQUE 3.4 - TABS ACCESIBLES
  Implementación siguiendo WAI-ARIA Authoring Practices para tabs
  - role="tablist" en el contenedor
  - role="tab" en cada botón
  - aria-selected para indicar tab activo
  - Roving tabindex para navegación por teclado
-->
<nav
  class="tabs"
  #tabsNav
  role="tablist"
  aria-label="Pestañas de navegación">
  @for (tab of tabs(); track tab.id; let i = $index) {
    <button
      #tabButton
      class="tabs__button"
      [class.tabs__button--active]="isActive(tab.id)"
      [class.tabs__button--disabled]="tab.disabled"
      [id]="'tab-' + tab.id"
      role="tab"
      [attr.aria-selected]="isActive(tab.id)"
      [attr.aria-controls]="'tabpanel-' + tab.id"
      [attr.tabindex]="getTabIndex(i)"
      [disabled]="tab.disabled"
      (click)="selectTab(tab.id)"
      (keydown)="onTabKeydown($event, i)"
      (focus)="onTabFocus(i)"
      type="button"
    >
      @if (tab.icon) {
        <lucide-icon [name]="tab.icon" [size]="16" class="tabs__icon" aria-hidden="true"></lucide-icon>
      }
      <span>{{ tab.label }}</span>
    </button>
  }
</nav>
