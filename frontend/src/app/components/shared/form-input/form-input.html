<div class="form-input">
  <!-- Label con asociaciÃ³n al input mediante 'for' -->
  <label
    [for]="inputId"
    class="form-input__label">
    {{ label }}
    @if (required) {
      <span class="form-input__required" aria-label="Campo requerido">*</span>
    }
  </label>

  <!-- Input con FormControl reactivo -->
  <input
    [id]="inputId"
    [type]="type"
    [formControl]="activeControl"
    [placeholder]="placeholder"
    [attr.autocomplete]="autocomplete || null"
    class="form-input__input"
    [class.form-input__input--error]="hasError"
    [class.form-input__input--success]="hasSuccess"
    [attr.aria-invalid]="hasError"
    [attr.aria-describedby]="hasError || helpText ? inputId + '-description' : null" />

  <!-- Mensaje de error (solo si hay error) -->
  @if (hasError && errorMessage) {
    <p
      [id]="inputId + '-description'"
      class="form-input__error"
      role="alert">
      {{ errorMessage }}
    </p>
  }

  <!-- Texto de ayuda (solo si no hay error) -->
  @if (!hasError && helpText) {
    <p
      [id]="inputId + '-description'"
      class="form-input__help">
      {{ helpText }}
    </p>
  }
</div>
