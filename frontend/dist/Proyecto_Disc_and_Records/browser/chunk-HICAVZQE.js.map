{
  "version": 3,
  "sources": ["src/app/components/shared/button/button.ts", "src/app/components/shared/button/button.html"],
  "sourcesContent": ["import { Component, Input, Output, EventEmitter, inject, OnInit, OnDestroy, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoadingService } from '../../../services/loading';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-button',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './button.html',\r\n  styleUrl: './button.scss',\r\n})\r\nexport class Button implements OnInit, OnDestroy {\r\n  private loadingService = inject(LoadingService);\r\n  private subscription?: Subscription;\r\n\r\n  @Input() variant: 'primary' | 'secondary' | 'ghost' | 'danger' = 'primary';\r\n  @Input() size: 'sm' | 'md' | 'lg' = 'md';\r\n  @Input() disabled: boolean = false;\r\n  @Input() type: 'button' | 'submit' | 'reset' = 'button';\r\n  @Input() href?: string;\r\n  @Input() fullWidth: boolean = false;\r\n\r\n  /**\r\n   * Estado de carga local del botón\r\n   * Si es true, muestra spinner y deshabilita el botón\r\n   */\r\n  @Input() loading: boolean = false;\r\n\r\n  /**\r\n   * ID para vincular con LoadingService\r\n   * Si se proporciona, el botón usa el estado del servicio\r\n   */\r\n  @Input() loadingId?: string;\r\n\r\n  @Output() clicked = new EventEmitter<Event>();\r\n\r\n  /** Estado interno de loading cuando se usa loadingId */\r\n  private serviceLoading = signal(false);\r\n\r\n  ngOnInit(): void {\r\n    if (this.loadingId) {\r\n      this.subscription = this.loadingService.localStates$.subscribe((states) => {\r\n        this.serviceLoading.set(states.get(this.loadingId!) ?? false);\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n\r\n  onClick(event: Event): void {\r\n    if (!this.isDisabled) {\r\n      this.clicked.emit(event);\r\n    }\r\n  }\r\n\r\n  get isLink(): boolean {\r\n    return !!this.href;\r\n  }\r\n\r\n  /**\r\n   * Determina si el botón está en estado de carga\r\n   */\r\n  get isLoading(): boolean {\r\n    if (this.loadingId) {\r\n      return this.serviceLoading();\r\n    }\r\n    return this.loading;\r\n  }\r\n\r\n  /**\r\n   * Determina si el botón debe estar deshabilitado\r\n   */\r\n  get isDisabled(): boolean {\r\n    return this.disabled || this.isLoading;\r\n  }\r\n\r\n  get buttonClasses(): string {\r\n    const classes = ['button'];\r\n\r\n    classes.push(`button--${this.variant}`);\r\n    classes.push(`button--${this.size}`);\r\n\r\n    if (this.isDisabled) {\r\n      classes.push('button--disabled');\r\n    }\r\n\r\n    if (this.isLoading) {\r\n      classes.push('button--loading');\r\n    }\r\n\r\n    if (this.fullWidth) {\r\n      classes.push('button--full-width');\r\n    }\r\n\r\n    return classes.join(' ');\r\n  }\r\n}\r\n", "<!-- Botón como enlace si tiene href -->\r\n@if (isLink) {\r\n<a\r\n  [href]=\"href\"\r\n  [class]=\"buttonClasses\"\r\n  [attr.aria-disabled]=\"isDisabled\"\r\n  [attr.tabindex]=\"isDisabled ? -1 : 0\"\r\n  (click)=\"onClick($event)\">\r\n  @if (isLoading) {\r\n  <span class=\"button__spinner\"></span>\r\n  }\r\n  <span [class.button__content--hidden]=\"isLoading\">\r\n    <ng-content></ng-content>\r\n  </span>\r\n</a>\r\n}\r\n\r\n<!-- Botón normal si no tiene href -->\r\n@if (!isLink) {\r\n<button\r\n  [type]=\"type\"\r\n  [class]=\"buttonClasses\"\r\n  [disabled]=\"isDisabled\"\r\n  (click)=\"onClick($event)\">\r\n  @if (isLoading) {\r\n  <span class=\"button__spinner\"></span>\r\n  }\r\n  <span [class.button__content--hidden]=\"isLoading\">\r\n    <ng-content></ng-content>\r\n  </span>\r\n</button>\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
