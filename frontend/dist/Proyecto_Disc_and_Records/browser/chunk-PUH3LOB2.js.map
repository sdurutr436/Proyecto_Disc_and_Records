{
  "version": 3,
  "sources": ["src/app/pages/settings/profile/profile.ts", "src/app/pages/settings/profile/profile.html"],
  "sourcesContent": ["import { Component, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormControl, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport { Alert } from '../../../components/shared/alert/alert';\r\nimport { Button } from '../../../components/shared/button/button';\r\nimport { FormInput } from '../../../components/shared/form-input/form-input';\r\n\r\n@Component({\r\n  selector: 'app-settings-profile',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule, Alert, Button, FormInput],\r\n  templateUrl: './profile.html',\r\n  styleUrl: './profile.scss'\r\n})\r\nexport default class SettingsProfileComponent {\r\n  isLoading = signal(false);\r\n  successMessage = signal<string | null>(null);\r\n  errorMessage = signal<string | null>(null);\r\n\r\n  // Foto de perfil actual (mock)\r\n  currentAvatar = signal('assets/profile-placeholder.jpg');\r\n\r\n  // Formulario de perfil\r\n  profileForm = new FormGroup({\r\n    username: new FormControl('PerreteGordete', {\r\n      nonNullable: true,\r\n      validators: [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(20),\r\n        Validators.pattern(/^[a-zA-Z0-9_]+$/)\r\n      ]\r\n    })\r\n  });\r\n\r\n  /**\r\n   * Maneja el cambio de foto de perfil\r\n   */\r\n  onAvatarChange(event: Event): void {\r\n    const input = event.target as HTMLInputElement;\r\n    if (input.files && input.files[0]) {\r\n      const file = input.files[0];\r\n\r\n      // Validar tamaño (max 2MB)\r\n      if (file.size > 2 * 1024 * 1024) {\r\n        this.errorMessage.set('La imagen no puede superar los 2MB');\r\n        setTimeout(() => this.errorMessage.set(null), 3000);\r\n        return;\r\n      }\r\n\r\n      // Validar tipo\r\n      if (!file.type.match(/image\\/(jpeg|jpg|png|gif)/)) {\r\n        this.errorMessage.set('Solo se permiten imágenes JPG, PNG o GIF');\r\n        setTimeout(() => this.errorMessage.set(null), 3000);\r\n        return;\r\n      }\r\n\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = (e: ProgressEvent<FileReader>) => {\r\n        if (e.target?.result) {\r\n          this.currentAvatar.set(e.target.result as string);\r\n          this.successMessage.set('Foto de perfil actualizada (temporal)');\r\n          setTimeout(() => this.successMessage.set(null), 3000);\r\n        }\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Guarda los cambios del perfil\r\n   */\r\n  onSubmit(): void {\r\n    if (this.profileForm.invalid) {\r\n      this.errorMessage.set('Por favor, corrige los errores del formulario');\r\n      setTimeout(() => this.errorMessage.set(null), 3000);\r\n      return;\r\n    }\r\n\r\n    this.isLoading.set(true);\r\n\r\n    // Simular llamada a API\r\n    setTimeout(() => {\r\n      this.isLoading.set(false);\r\n      this.successMessage.set('Perfil actualizado correctamente');\r\n      setTimeout(() => this.successMessage.set(null), 3000);\r\n\r\n      console.log('Perfil guardado:', {\r\n        username: this.profileForm.value.username,\r\n        avatar: this.currentAvatar()\r\n      });\r\n    }, 1000);\r\n  }\r\n}\r\n", "<div class=\"settings-profile\">\r\n  <!-- Mensajes de estado con componentes Alert -->\r\n  @if (successMessage()) {\r\n    <app-alert\r\n      type=\"success\"\r\n      [message]=\"successMessage()!\"\r\n      [dismissible]=\"true\"\r\n      (dismissed)=\"successMessage.set(null)\"\r\n    />\r\n  }\r\n  @if (errorMessage()) {\r\n    <app-alert\r\n      type=\"error\"\r\n      [message]=\"errorMessage()!\"\r\n      [dismissible]=\"true\"\r\n      (dismissed)=\"errorMessage.set(null)\"\r\n    />\r\n  }\r\n\r\n  <header class=\"settings-profile__header\">\r\n    <h2 class=\"settings-profile__title\">Información del Perfil</h2>\r\n    <p class=\"settings-profile__subtitle\">Personaliza cómo te ven los demás usuarios</p>\r\n  </header>\r\n\r\n  <!-- Foto de perfil -->\r\n  <section class=\"settings-profile__section\">\r\n    <h3 class=\"settings-profile__section-title\">Foto de Perfil</h3>\r\n    <div class=\"settings-profile__avatar\">\r\n      <div class=\"settings-profile__avatar-preview\">\r\n        <img [src]=\"currentAvatar()\" alt=\"Avatar actual\" class=\"settings-profile__avatar-image\" />\r\n      </div>\r\n      <div class=\"settings-profile__avatar-info\">\r\n        <label for=\"avatar-upload\" class=\"settings-profile__avatar-label\">\r\n          <app-button\r\n            variant=\"secondary\"\r\n            type=\"button\"\r\n            [disabled]=\"isLoading()\"\r\n          >\r\n            Cambiar Foto\r\n          </app-button>\r\n        </label>\r\n        <input\r\n          id=\"avatar-upload\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          (change)=\"onAvatarChange($event)\"\r\n          class=\"settings-profile__avatar-input\"\r\n        />\r\n        <p class=\"settings-profile__hint\">JPG, PNG o GIF. Máximo 2MB.</p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <!-- Nombre de usuario -->\r\n  <section class=\"settings-profile__section\">\r\n    <h3 class=\"settings-profile__section-title\">Nombre de Usuario</h3>\r\n    <form [formGroup]=\"profileForm\" class=\"settings-profile__form\">\r\n      <app-form-input\r\n        [control]=\"profileForm.controls.username\"\r\n        label=\"Usuario\"\r\n        type=\"text\"\r\n        placeholder=\"Ingresa tu nombre de usuario\"\r\n        [required]=\"true\"\r\n        hint=\"Solo letras, números y guiones bajos. Mínimo 3 caracteres.\"\r\n      />\r\n\r\n      <div class=\"settings-profile__actions\">\r\n        <app-button\r\n          variant=\"primary\"\r\n          type=\"button\"\r\n          [disabled]=\"profileForm.controls.username.invalid || isLoading()\"\r\n          (click)=\"onSubmit()\"\r\n        >\r\n          Guardar Cambios\r\n        </app-button>\r\n      </div>\r\n    </form>\r\n  </section>\r\n</div>\r\n"],
  "mappings": "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",
  "names": []
}
