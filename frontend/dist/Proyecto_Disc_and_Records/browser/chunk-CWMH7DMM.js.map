{
  "version": 3,
  "sources": ["src/app/components/shared/form-input/form-input.ts", "src/app/components/shared/form-input/form-input.html"],
  "sourcesContent": ["import { Component, Input, computed } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule, FormControl } from '@angular/forms';\r\n\r\nlet nextUniqueId = 0;\r\n\r\n/**\r\n * FormInput - Componente Atómico Reutilizable\r\n *\r\n * Componente de input que soporta FormControl reactivo con validaciones.\r\n * Sigue el patrón de diseño atómico para eliminar duplicación de código.\r\n *\r\n * @example\r\n * <app-form-input\r\n *   [control]=\"emailControl\"\r\n *   label=\"Correo electrónico\"\r\n *   type=\"email\"\r\n *   id=\"login-email\"\r\n *   placeholder=\"tu@email.com\"\r\n *   helpText=\"Introduce tu correo\"\r\n *   [required]=\"true\"\r\n *   [autocomplete]=\"'email'\">\r\n * </app-form-input>\r\n */\r\n@Component({\r\n  selector: 'app-form-input',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule],\r\n  templateUrl: './form-input.html',\r\n  styleUrl: './form-input.scss',\r\n})\r\nexport class FormInput {\r\n  // FormControl reactivo (requerido)\r\n  @Input() control!: FormControl;\r\n\r\n  // Propiedades del input\r\n  @Input() label: string = '';\r\n  @Input() type: string = 'text';\r\n  @Input() id: string = '';\r\n  @Input() placeholder: string = '';\r\n  @Input() required: boolean = false;\r\n  @Input() disabled: boolean = false;\r\n  @Input() autocomplete: string = '';\r\n\r\n  // Mensajes de ayuda\r\n  @Input() helpText: string = '';\r\n\r\n  // ID único para asociar label e input\r\n  inputId = '';\r\n\r\n  ngOnInit() {\r\n    // Usar el ID proporcionado o generar uno único\r\n    this.inputId = this.id || `form-input-${nextUniqueId++}`;\r\n  }\r\n\r\n  // Computed para verificar si el control tiene errores y ha sido tocado\r\n  get hasError(): boolean {\r\n    return !!(this.control && this.control.invalid && this.control.touched);\r\n  }\r\n\r\n  // Computed para verificar si el control es válido\r\n  get hasSuccess(): boolean {\r\n    return !!(this.control && this.control.valid && this.control.touched);\r\n  }\r\n\r\n  // Obtener el primer mensaje de error del control\r\n  get errorMessage(): string {\r\n    if (!this.control || !this.control.errors || !this.control.touched) {\r\n      return '';\r\n    }\r\n\r\n    const errors = this.control.errors;\r\n\r\n    // Mapeo de errores comunes a mensajes en español\r\n    if (errors['required']) {\r\n      return `${this.label} es requerido`;\r\n    }\r\n    if (errors['email']) {\r\n      return 'Email debe ser válido (ej: usuario@dominio.com)';\r\n    }\r\n    if (errors['minlength']) {\r\n      return `Mínimo ${errors['minlength'].requiredLength} caracteres`;\r\n    }\r\n    if (errors['maxlength']) {\r\n      return `Máximo ${errors['maxlength'].requiredLength} caracteres`;\r\n    }\r\n    if (errors['pattern']) {\r\n      return 'Formato inválido';\r\n    }\r\n    if (errors['passwordStrength']) {\r\n      return errors['passwordStrength'];\r\n    }\r\n    if (errors['emailTaken']) {\r\n      return 'Este email ya está registrado';\r\n    }\r\n    if (errors['usernameTaken']) {\r\n      return 'Este nombre de usuario ya está en uso';\r\n    }\r\n\r\n    // Error genérico\r\n    return 'Campo inválido';\r\n  }\r\n}\r\n", "<div class=\"form-input\">\r\n  <!-- Label con asociación al input mediante 'for' -->\r\n  <label\r\n    [for]=\"inputId\"\r\n    class=\"form-input__label\">\r\n    {{ label }}\r\n    @if (required) {\r\n      <span class=\"form-input__required\" aria-label=\"Campo requerido\">*</span>\r\n    }\r\n  </label>\r\n\r\n  <!-- Input con FormControl reactivo -->\r\n  <input\r\n    [id]=\"inputId\"\r\n    [type]=\"type\"\r\n    [formControl]=\"control\"\r\n    [placeholder]=\"placeholder\"\r\n    [attr.autocomplete]=\"autocomplete || null\"\r\n    class=\"form-input__input\"\r\n    [class.form-input__input--error]=\"hasError\"\r\n    [class.form-input__input--success]=\"hasSuccess\"\r\n    [attr.aria-invalid]=\"hasError\"\r\n    [attr.aria-describedby]=\"hasError || helpText ? inputId + '-description' : null\" />\r\n\r\n  <!-- Mensaje de error (solo si hay error) -->\r\n  @if (hasError && errorMessage) {\r\n    <p\r\n      [id]=\"inputId + '-description'\"\r\n      class=\"form-input__error\"\r\n      role=\"alert\">\r\n      {{ errorMessage }}\r\n    </p>\r\n  }\r\n\r\n  <!-- Texto de ayuda (solo si no hay error) -->\r\n  @if (!hasError && helpText) {\r\n    <p\r\n      [id]=\"inputId + '-description'\"\r\n      class=\"form-input__help\">\r\n      {{ helpText }}\r\n    </p>\r\n  }\r\n</div>\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACOM,IAAA,yBAAA,GAAA,QAAA,CAAA;AAAgE,IAAA,iBAAA,GAAA,GAAA;AAAC,IAAA,uBAAA;;;;;AAmBnE,IAAA,yBAAA,GAAA,KAAA,CAAA;AAIE,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAJE,IAAA,qBAAA,MAAA,OAAA,UAAA,cAAA;AAGA,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,cAAA,GAAA;;;;;AAMF,IAAA,yBAAA,GAAA,KAAA,CAAA;AAGE,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAHE,IAAA,qBAAA,MAAA,OAAA,UAAA,cAAA;AAEA,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,UAAA,GAAA;;;ADnCN,IAAI,eAAe;AA2Bb,IAAO,YAAP,MAAO,WAAS;;EAEX;;EAGA,QAAgB;EAChB,OAAe;EACf,KAAa;EACb,cAAsB;EACtB,WAAoB;EACpB,WAAoB;EACpB,eAAuB;;EAGvB,WAAmB;;EAG5B,UAAU;EAEV,WAAQ;AAEN,SAAK,UAAU,KAAK,MAAM,cAAc,cAAc;EACxD;;EAGA,IAAI,WAAQ;AACV,WAAO,CAAC,EAAE,KAAK,WAAW,KAAK,QAAQ,WAAW,KAAK,QAAQ;EACjE;;EAGA,IAAI,aAAU;AACZ,WAAO,CAAC,EAAE,KAAK,WAAW,KAAK,QAAQ,SAAS,KAAK,QAAQ;EAC/D;;EAGA,IAAI,eAAY;AACd,QAAI,CAAC,KAAK,WAAW,CAAC,KAAK,QAAQ,UAAU,CAAC,KAAK,QAAQ,SAAS;AAClE,aAAO;IACT;AAEA,UAAM,SAAS,KAAK,QAAQ;AAG5B,QAAI,OAAO,UAAU,GAAG;AACtB,aAAO,GAAG,KAAK,KAAK;IACtB;AACA,QAAI,OAAO,OAAO,GAAG;AACnB,aAAO;IACT;AACA,QAAI,OAAO,WAAW,GAAG;AACvB,aAAO,aAAU,OAAO,WAAW,EAAE,cAAc;IACrD;AACA,QAAI,OAAO,WAAW,GAAG;AACvB,aAAO,aAAU,OAAO,WAAW,EAAE,cAAc;IACrD;AACA,QAAI,OAAO,SAAS,GAAG;AACrB,aAAO;IACT;AACA,QAAI,OAAO,kBAAkB,GAAG;AAC9B,aAAO,OAAO,kBAAkB;IAClC;AACA,QAAI,OAAO,YAAY,GAAG;AACxB,aAAO;IACT;AACA,QAAI,OAAO,eAAe,GAAG;AAC3B,aAAO;IACT;AAGA,WAAO;EACT;;qCAtEW,YAAS;EAAA;yEAAT,YAAS,WAAA,CAAA,CAAA,gBAAA,CAAA,GAAA,QAAA,EAAA,SAAA,WAAA,OAAA,SAAA,MAAA,QAAA,IAAA,MAAA,aAAA,eAAA,UAAA,YAAA,UAAA,YAAA,cAAA,gBAAA,UAAA,WAAA,GAAA,OAAA,GAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,KAAA,GAAA,CAAA,cAAA,mBAAA,GAAA,sBAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,MAAA,QAAA,eAAA,aAAA,GAAA,CAAA,QAAA,SAAA,GAAA,qBAAA,GAAA,IAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,IAAA,CAAA,GAAA,UAAA,SAAA,mBAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AC/BtB,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAwB,GAAA,SAAA,CAAA;AAKpB,MAAA,iBAAA,CAAA;AACA,MAAA,8BAAA,GAAA,kCAAA,GAAA,GAAA,QAAA,CAAA;AAGF,MAAA,uBAAA;AAGA,MAAA,oBAAA,GAAA,SAAA,CAAA;AAaA,MAAA,8BAAA,GAAA,kCAAA,GAAA,GAAA,KAAA,CAAA;AAUA,MAAA,8BAAA,GAAA,kCAAA,GAAA,GAAA,KAAA,CAAA;AAOF,MAAA,uBAAA;;;AAvCI,MAAA,oBAAA;AAAA,MAAA,qBAAA,OAAA,IAAA,OAAA;AAEA,MAAA,oBAAA;AAAA,MAAA,6BAAA,KAAA,IAAA,OAAA,GAAA;AACA,MAAA,oBAAA;AAAA,MAAA,wBAAA,IAAA,WAAA,IAAA,EAAA;AAaA,MAAA,oBAAA;AAAA,MAAA,sBAAA,4BAAA,IAAA,QAAA,EAA2C,8BAAA,IAAA,UAAA;AAN3C,MAAA,qBAAA,MAAA,IAAA,OAAA,EAAc,QAAA,IAAA,IAAA,EACD,eAAA,IAAA,OAAA,EACU,eAAA,IAAA,WAAA;;AAUzB,MAAA,oBAAA;AAAA,MAAA,wBAAA,IAAA,YAAA,IAAA,eAAA,IAAA,EAAA;AAUA,MAAA,oBAAA;AAAA,MAAA,wBAAA,CAAA,IAAA,YAAA,IAAA,WAAA,IAAA,EAAA;;oBDRU,cAAc,qBAAmB,sBAAA,iBAAA,oBAAA,GAAA,QAAA,CAAA,krFAAA,EAAA,CAAA;;;sEAIhC,WAAS,CAAA;UAPrB;uBACW,kBAAgB,YACd,MAAI,SACP,CAAC,cAAc,mBAAmB,GAAC,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA,QAAA,CAAA,s5EAAA,EAAA,CAAA;;UAM3C;;UAGA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UAGA;;;;6EAdU,WAAS,EAAA,WAAA,aAAA,UAAA,sDAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
