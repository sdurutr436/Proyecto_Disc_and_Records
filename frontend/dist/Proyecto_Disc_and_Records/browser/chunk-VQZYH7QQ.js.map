{
  "version": 3,
  "sources": ["src/app/components/shared/spinner/spinner.ts", "src/app/components/shared/spinner/spinner.html"],
  "sourcesContent": ["/**\r\n * Spinner Component - Indicador de Carga Visual\r\n *\r\n * PROPÓSITO:\r\n * Componente visual para indicar estados de carga.\r\n * Puede usarse como overlay global o inline en componentes.\r\n *\r\n * MODOS:\r\n * - global: Overlay de pantalla completa con backdrop\r\n * - inline: Spinner pequeño dentro de un contenedor\r\n * - button: Spinner mini para dentro de botones\r\n *\r\n * USO:\r\n * ```html\r\n * <!-- Global overlay -->\r\n * <app-spinner [show]=\"isLoading\" mode=\"global\" message=\"Cargando...\"></app-spinner>\r\n *\r\n * <!-- Inline en contenedor -->\r\n * <app-spinner [show]=\"isLoading\" mode=\"inline\" size=\"md\"></app-spinner>\r\n *\r\n * <!-- En botón -->\r\n * <button>\r\n *   <app-spinner [show]=\"isSaving\" mode=\"button\"></app-spinner>\r\n *   Guardar\r\n * </button>\r\n * ```\r\n */\r\n\r\nimport { Component, Input, inject, computed, signal, OnInit, OnDestroy } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoadingService } from '../../../services/loading';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-spinner',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './spinner.html',\r\n  styleUrl: './spinner.scss',\r\n})\r\nexport class Spinner implements OnInit, OnDestroy {\r\n  private loadingService = inject(LoadingService);\r\n\r\n  /**\r\n   * Controla la visibilidad del spinner\r\n   * Si no se proporciona, usa el estado global del LoadingService\r\n   */\r\n  @Input() show?: boolean;\r\n\r\n  /**\r\n   * Modo de visualización\r\n   * - global: Overlay de pantalla completa\r\n   * - inline: Spinner dentro de contenedor\r\n   * - button: Spinner pequeño para botones\r\n   */\r\n  @Input() mode: 'global' | 'inline' | 'button' = 'inline';\r\n\r\n  /**\r\n   * Tamaño del spinner\r\n   */\r\n  @Input() size: 'sm' | 'md' | 'lg' = 'md';\r\n\r\n  /**\r\n   * Mensaje a mostrar (solo en modo global)\r\n   */\r\n  @Input() message?: string;\r\n\r\n  /**\r\n   * ID para loading local (opcional)\r\n   * Si se proporciona, el spinner se vincula al estado local de ese ID\r\n   */\r\n  @Input() localId?: string;\r\n\r\n  /**\r\n   * Color del spinner\r\n   */\r\n  @Input() color: 'primary' | 'secondary' | 'white' = 'primary';\r\n\r\n  /** Suscripción para limpieza */\r\n  private subscription?: Subscription;\r\n\r\n  /** Estado local para cuando se usa localId */\r\n  private localLoading = signal(false);\r\n\r\n  ngOnInit(): void {\r\n    // Si hay localId, suscribirse a cambios locales\r\n    if (this.localId) {\r\n      this.subscription = this.loadingService.localStates$.subscribe((states) => {\r\n        this.localLoading.set(states.get(this.localId!) ?? false);\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n\r\n  /**\r\n   * Determina si el spinner debe mostrarse\r\n   */\r\n  get isVisible(): boolean {\r\n    // Si show está definido explícitamente, usarlo\r\n    if (this.show !== undefined) {\r\n      return this.show;\r\n    }\r\n\r\n    // Si hay localId, usar estado local\r\n    if (this.localId) {\r\n      return this.localLoading();\r\n    }\r\n\r\n    // Por defecto, usar estado global\r\n    return this.loadingService.isLoading();\r\n  }\r\n\r\n  /**\r\n   * Obtiene el mensaje a mostrar\r\n   */\r\n  get displayMessage(): string {\r\n    return this.message ?? this.loadingService.message();\r\n  }\r\n\r\n  /**\r\n   * Clases CSS dinámicas\r\n   */\r\n  get spinnerClasses(): string {\r\n    const classes = ['spinner'];\r\n    classes.push(`spinner--${this.mode}`);\r\n    classes.push(`spinner--${this.size}`);\r\n    classes.push(`spinner--${this.color}`);\r\n    return classes.join(' ');\r\n  }\r\n\r\n  /**\r\n   * Clases para el overlay (solo modo global)\r\n   */\r\n  get overlayClasses(): string {\r\n    return this.isVisible ? 'spinner-overlay spinner-overlay--visible' : 'spinner-overlay';\r\n  }\r\n}\r\n", "<!-- Spinner Global con Overlay -->\r\n@if (mode === 'global') {\r\n<div [class]=\"overlayClasses\">\r\n  <div class=\"spinner-container\">\r\n    <div [class]=\"spinnerClasses\">\r\n      <svg class=\"spinner__flower\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <!-- Pétalos de la margarita -->\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\"/>\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(45 50 50)\"/>\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(90 50 50)\"/>\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(135 50 50)\"/>\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(180 50 50)\"/>\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(225 50 50)\"/>\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(270 50 50)\"/>\r\n        <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(315 50 50)\"/>\r\n        <!-- Centro de la flor -->\r\n        <circle cx=\"50\" cy=\"50\" r=\"14\" class=\"flower__center\"/>\r\n        <!-- Puntos decorativos en el centro -->\r\n        <circle cx=\"50\" cy=\"50\" r=\"3\" class=\"flower__center-dot\"/>\r\n      </svg>\r\n    </div>\r\n    @if (displayMessage) {\r\n    <p class=\"spinner__message\">{{ displayMessage }}</p>\r\n    }\r\n  </div>\r\n</div>\r\n}\r\n\r\n<!-- Spinner Inline o Button -->\r\n@if (mode !== 'global' && isVisible) {\r\n<div [class]=\"spinnerClasses\">\r\n  <svg class=\"spinner__flower\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <!-- Pétalos de la margarita -->\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\"/>\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(45 50 50)\"/>\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(90 50 50)\"/>\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(135 50 50)\"/>\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(180 50 50)\"/>\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(225 50 50)\"/>\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(270 50 50)\"/>\r\n    <ellipse cx=\"50\" cy=\"20\" rx=\"12\" ry=\"18\" class=\"flower__petal\" transform=\"rotate(315 50 50)\"/>\r\n    <!-- Centro de la flor -->\r\n    <circle cx=\"50\" cy=\"50\" r=\"14\" class=\"flower__center\"/>\r\n    <!-- Puntos decorativos en el centro -->\r\n    <circle cx=\"50\" cy=\"50\" r=\"3\" class=\"flower__center-dot\"/>\r\n  </svg>\r\n</div>\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
