import{b as j,d as H,j as N,n as B}from"./chunk-ULLTD6MK.js";import{A as I,B as i,Ca as F,Da as q,Ea as k,F as b,J as h,M as C,Ma as z,N as d,Na as M,O as c,S as p,T as r,U as a,V as y,Z as w,_ as v,aa as f,ca as s,da as S,ea as O,ia as P,ka as V,ma as m,oa as u,p as g,q as x,r as E,u as T,ya as D}from"./chunk-7OHFJZ23.js";function $(n,t){n&1&&(r(0,"span",2),m(1,"*"),a())}function A(n,t){if(n&1&&(r(0,"p",4),m(1),a()),n&2){let e=s();p("id",e.inputId+"-description"),i(),u(" ",e.errorMessage," ")}}function R(n,t){if(n&1&&(r(0,"p",5),m(1),a()),n&2){let e=s();p("id",e.inputId+"-description"),i(),u(" ",e.helpText," ")}}var W=0,K=class n{control;label="";type="text";id="";placeholder="";required=!1;disabled=!1;autocomplete="";helpText="";inputId="";ngOnInit(){this.inputId=this.id||`form-input-${W++}`}get hasError(){return!!(this.control&&this.control.invalid&&this.control.touched)}get hasSuccess(){return!!(this.control&&this.control.valid&&this.control.touched)}get errorMessage(){if(!this.control||!this.control.errors||!this.control.touched)return"";let t=this.control.errors;return t.required?`${this.label} es requerido`:t.email?"Email debe ser v\xE1lido (ej: usuario@dominio.com)":t.minlength?`M\xEDnimo ${t.minlength.requiredLength} caracteres`:t.maxlength?`M\xE1ximo ${t.maxlength.requiredLength} caracteres`:t.pattern?"Formato inv\xE1lido":t.passwordStrength?t.passwordStrength:t.emailTaken?"Este email ya est\xE1 registrado":t.usernameTaken?"Este nombre de usuario ya est\xE1 en uso":"Campo inv\xE1lido"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=b({type:n,selectors:[["app-form-input"]],inputs:{control:"control",label:"label",type:"type",id:"id",placeholder:"placeholder",required:"required",disabled:"disabled",autocomplete:"autocomplete",helpText:"helpText"},decls:7,vars:16,consts:[[1,"form-input"],[1,"form-input__label",3,"for"],["aria-label","Campo requerido",1,"form-input__required"],[1,"form-input__input",3,"id","type","formControl","placeholder"],["role","alert",1,"form-input__error",3,"id"],[1,"form-input__help",3,"id"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"label",1),m(2),d(3,$,2,0,"span",2),a(),y(4,"input",3),d(5,A,2,2,"p",4),d(6,R,2,2,"p",5),a()),e&2&&(i(),p("for",o.inputId),i(),u(" ",o.label," "),i(),c(o.required?3:-1),i(),V("form-input__input--error",o.hasError)("form-input__input--success",o.hasSuccess),p("id",o.inputId)("type",o.type)("formControl",o.control)("placeholder",o.placeholder),C("autocomplete",o.autocomplete||null)("aria-invalid",o.hasError)("aria-describedby",o.hasError||o.helpText?o.inputId+"-description":null),i(),c(o.hasError&&o.errorMessage?5:-1),i(),c(!o.hasError&&o.helpText?6:-1))},dependencies:[M,B,j,H,N],styles:['@charset "UTF-8";.form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.form-input__label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-primary);display:flex;align-items:center;gap:.25rem;margin-bottom:.5rem}.form-input__required[_ngcontent-%COMP%]{color:#e04a4a;font-weight:600;font-size:1.125rem;line-height:1;margin-left:2px}.form-input__input[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:1rem;padding:.5rem 1rem;border:3px solid var(--border-color);border-radius:5px;background-color:var(--bg-primary);color:var(--text-primary);box-shadow:4px 4px 0 var(--shadow-color);transition:all .15s ease-in-out;width:100%;outline:none}.form-input__input[_ngcontent-%COMP%]::placeholder{color:var(--text-placeholder);opacity:1}.form-input__input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);box-shadow:4px 4px #ed9c05}.form-input__input[_ngcontent-%COMP%]:hover:not(:disabled):not(.form-input__input--error):not(.form-input__input--success){box-shadow:2px 2px 0 var(--shadow-color);transform:translate(2px,2px)}.form-input__input--error[_ngcontent-%COMP%]{border-color:#e04a4a;box-shadow:4px 4px #e04a4a}.form-input__input--error[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:2px 2px #e04a4a;transform:translate(2px,2px)}.form-input__input--error[_ngcontent-%COMP%]:focus{box-shadow:4px 4px #e04a4a;transform:none}.form-input__input--success[_ngcontent-%COMP%]{border-color:#aad661;box-shadow:4px 4px #aad661}.form-input__input--success[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:2px 2px #aad661;transform:translate(2px,2px)}.form-input__input--success[_ngcontent-%COMP%]:focus{box-shadow:4px 4px #aad661;transform:none}.form-input__input[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background-color:var(--bg-secondary)}.form-input__input[_ngcontent-%COMP%]:disabled:hover{box-shadow:4px 4px 0 var(--shadow-color);transform:none}.form-input__error[_ngcontent-%COMP%]{font-size:.75rem;color:#e04a4a;font-weight:500;display:flex;align-items:center;gap:.25rem}.form-input__error[_ngcontent-%COMP%]:before{content:"\\26a0";font-size:1rem}.form-input__help[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);font-style:italic}']})};var Y=["*",[["","modal-footer",""]]],J=["*","[modal-footer]"];function Q(n,t){n&1&&(E(),r(0,"svg",2),y(1,"line",3)(2,"line",4),a())}function X(n,t){n&1&&w(0)}function Z(n,t){if(n&1){let e=v();r(0,"div",7)(1,"h2",11),m(2),a(),r(3,"button",12),f("click",function(){g(e);let l=s(2);return x(l.close())}),h(4,X,1,0,"ng-container",13),a()()}if(n&2){let e=s(2),o=P(1);i(2),u(" ",e.title()," "),i(2),p("ngTemplateOutlet",o)}}function ee(n,t){n&1&&w(0)}function te(n,t){if(n&1){let e=v();r(0,"button",14),f("click",function(){g(e);let l=s(2);return x(l.close())}),h(1,ee,1,0,"ng-container",13),a()}if(n&2){s(2);let e=P(1);i(),p("ngTemplateOutlet",e)}}function oe(n,t){if(n&1){let e=v();r(0,"div",5),f("click",function(l){g(e);let _=s();return x(_.onOverlayClick(l))}),r(1,"div",6),d(2,Z,5,2,"div",7),d(3,te,2,1,"button",8),r(4,"div",9),O(5),a(),r(6,"div",10),O(7,1),a()()()}if(n&2){let e=s();C("aria-labelledby",e.title()?"modal-title":null),i(2),c(e.title()?2:-1),i(),c(e.title()?-1:3)}}var L=class n{isOpen=k(!1);title=k("");onClose=q();isVisible=T(!1);closedByUser=!1;constructor(){F(()=>{this.isOpen()?this.open():this.closeWithoutEmit()})}open(){this.isVisible.set(!0),this.closedByUser=!1,document.body.style.overflow="hidden"}close(){this.isVisible.set(!1),document.body.style.overflow="",this.onClose.emit()}closeWithoutEmit(){this.isVisible.set(!1),document.body.style.overflow=""}onOverlayClick(t){t.target.classList.contains("modal__overlay")&&this.close()}onEscapeKey(){this.isVisible()&&this.close()}onKeydown(t){if(!this.isVisible()||t.key!=="Tab")return;let e=document.querySelector(".modal__content");if(!e)return;let o=e.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])'),l=o[0],_=o[o.length-1];t.shiftKey&&document.activeElement===l?(t.preventDefault(),_?.focus()):!t.shiftKey&&document.activeElement===_&&(t.preventDefault(),l?.focus())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=b({type:n,selectors:[["app-modal"]],hostBindings:function(e,o){e&1&&f("keydown.escape",function(){return o.onEscapeKey()},I)("keydown",function(_){return o.onKeydown(_)})},inputs:{isOpen:[1,"isOpen"],title:[1,"title"]},outputs:{onClose:"onClose"},ngContentSelectors:J,decls:3,vars:1,consts:[["closeIcon",""],["role","dialog","aria-modal","true",1,"modal__overlay"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["role","dialog","aria-modal","true",1,"modal__overlay",3,"click"],[1,"modal__content"],[1,"modal__header"],["aria-label","Cerrar modal","type","button",1,"modal__close","modal__close--floating"],[1,"modal__body"],[1,"modal__footer"],["id","modal-title",1,"modal__title"],["aria-label","Cerrar modal","type","button",1,"modal__close",3,"click"],[4,"ngTemplateOutlet"],["aria-label","Cerrar modal","type","button",1,"modal__close","modal__close--floating",3,"click"]],template:function(e,o){e&1&&(S(Y),h(0,Q,3,0,"ng-template",null,0,D),d(2,oe,8,3,"div",1)),e&2&&(i(2),c(o.isVisible()?2:-1))},dependencies:[M,z],styles:['@charset "UTF-8";.modal__overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;align-items:center;justify-content:center;z-index:6;padding:2rem;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);animation:_ngcontent-%COMP%_modal-fadeIn .3s ease}@keyframes _ngcontent-%COMP%_modal-fadeIn{0%{opacity:0}to{opacity:1}}.modal__content[_ngcontent-%COMP%]{background-color:var(--bg-primary);border:4px solid var(--border-color);border-radius:8px;box-shadow:8px 8px 0 var(--shadow-color);max-width:36rem;width:100%;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;gap:0;animation:_ngcontent-%COMP%_modal-slideUp .3s cubic-bezier(.25,.46,.45,.94)}@keyframes _ngcontent-%COMP%_modal-slideUp{0%{transform:translateY(2rem);opacity:0}to{transform:translateY(0);opacity:1}}.modal__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2rem;justify-content:space-between;align-items:center;padding:2rem;border-bottom:3px solid var(--border-color);background-color:var(--color-primary)}.modal__title[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:1.125rem;font-weight:800;color:var(--text-primary);margin:0;text-transform:uppercase;letter-spacing:.05em}.modal__close[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer;padding:.5rem;color:var(--text-primary);border-radius:5px;transition:all .15s ease-in-out;flex-shrink:0}.modal__close[_ngcontent-%COMP%]:hover{background-color:var(--bg-secondary);transform:scale(1.1)}.modal__close[_ngcontent-%COMP%]:active{transform:scale(.95)}.modal__close[_ngcontent-%COMP%]:focus-visible{outline:3px solid var(--color-accent);outline-offset:2px}.modal__close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.modal__close--floating[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background-color:var(--bg-primary);border:2px solid var(--border-color);box-shadow:2px 2px 0 var(--shadow-color);z-index:10}.modal__close--floating[_ngcontent-%COMP%]:hover{background-color:var(--bg-secondary);box-shadow:1px 1px 0 var(--shadow-color);transform:translate(1px,1px)}.modal__body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto;flex:1;color:var(--text-primary);font-family:Space Grotesk,sans-serif;font-size:.9375rem;line-height:1.6}.modal__body[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%], .modal__body[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%], .modal__body[_ngcontent-%COMP%]   .forgot-password-form[_ngcontent-%COMP%]{border:none;box-shadow:none;padding:0;max-width:100%}.modal__footer[_ngcontent-%COMP%]{padding:2rem;border-top:3px solid var(--border-color);background-color:var(--bg-secondary);display:flex;flex-direction:row;gap:1rem;justify-content:flex-end}.modal__footer[_ngcontent-%COMP%]:empty{display:none}@media (max-width: 767px){.modal__overlay[_ngcontent-%COMP%]{padding:1rem}.modal__content[_ngcontent-%COMP%]{max-height:95vh}.modal__header[_ngcontent-%COMP%]{padding:1rem}.modal__body[_ngcontent-%COMP%]{padding:2rem;font-size:.875rem}.modal__footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}}']})};export{K as a,L as b};
