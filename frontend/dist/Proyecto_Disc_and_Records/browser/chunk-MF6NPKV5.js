import{a as j}from"./chunk-TKIQ4C2I.js";import{a as T}from"./chunk-C24EJCZF.js";import{c as _,e as y,f as w,g as k,i as S,k as F,o as z}from"./chunk-EJY2DXOJ.js";import{a as E}from"./chunk-G7M7EKCO.js";import"./chunk-TFIATY5C.js";import{Fa as C,Ja as s,Jb as l,Ya as P,Z as f,_ as u,ha as c,hb as x,ib as b,mb as a,nb as n,ob as r,pb as v,ub as h,wb as d,wc as O,yb as m}from"./chunk-BRYW362N.js";function G(o,g){if(o&1){let e=h();n(0,"app-alert",20),d("dismissed",function(){f(e);let i=m();return u(i.successMessage.set(null))}),r()}if(o&2){let e=m();a("message",e.successMessage())("dismissible",!0)}}function N(o,g){if(o&1){let e=h();n(0,"app-alert",21),d("dismissed",function(){f(e);let i=m();return u(i.errorMessage.set(null))}),r()}if(o&2){let e=m();a("message",e.errorMessage())("dismissible",!0)}}var M=class o{isLoading=c(!1);successMessage=c(null);errorMessage=c(null);currentAvatar=c("assets/profile-placeholder.jpg");profileForm=new w({username:new k("PerreteGordete",{nonNullable:!0,validators:[_.required,_.minLength(3),_.maxLength(20),_.pattern(/^[a-zA-Z0-9_]+$/)]})});onAvatarChange(g){let e=g.target;if(e.files&&e.files[0]){let t=e.files[0];if(t.size>2*1024*1024){this.errorMessage.set("La imagen no puede superar los 2MB"),setTimeout(()=>this.errorMessage.set(null),3e3);return}if(!t.type.match(/image\/(jpeg|jpg|png|gif)/)){this.errorMessage.set("Solo se permiten im\xE1genes JPG, PNG o GIF"),setTimeout(()=>this.errorMessage.set(null),3e3);return}let i=new FileReader;i.onload=p=>{p.target?.result&&(this.currentAvatar.set(p.target.result),this.successMessage.set("Foto de perfil actualizada (temporal)"),setTimeout(()=>this.successMessage.set(null),3e3))},i.readAsDataURL(t)}}onSubmit(){if(this.profileForm.invalid){this.errorMessage.set("Por favor, corrige los errores del formulario"),setTimeout(()=>this.errorMessage.set(null),3e3);return}this.isLoading.set(!0),setTimeout(()=>{this.isLoading.set(!1),this.successMessage.set("Perfil actualizado correctamente"),setTimeout(()=>this.successMessage.set(null),3e3),console.log("Perfil guardado:",{username:this.profileForm.value.username,avatar:this.currentAvatar()})},1e3)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-settings-profile"]],decls:29,vars:8,consts:[[1,"settings-profile"],["type","success",3,"message","dismissible"],["type","error",3,"message","dismissible"],[1,"settings-profile__header"],[1,"settings-profile__title"],[1,"settings-profile__subtitle"],[1,"settings-profile__section"],[1,"settings-profile__section-title"],[1,"settings-profile__avatar"],[1,"settings-profile__avatar-preview"],["alt","Avatar actual",1,"settings-profile__avatar-image",3,"src"],[1,"settings-profile__avatar-info"],["for","avatar-upload",1,"settings-profile__avatar-label"],["variant","secondary","type","button",3,"disabled"],["id","avatar-upload","type","file","accept","image/*",1,"settings-profile__avatar-input",3,"change"],[1,"settings-profile__hint"],[1,"settings-profile__form",3,"formGroup"],["label","Usuario","type","text","placeholder","Ingresa tu nombre de usuario","hint","Solo letras, n\xFAmeros y guiones bajos. M\xEDnimo 3 caracteres.",3,"control","required"],[1,"settings-profile__actions"],["variant","primary","type","button",3,"click","disabled"],["type","success",3,"dismissed","message","dismissible"],["type","error",3,"dismissed","message","dismissible"]],template:function(e,t){e&1&&(n(0,"div",0),x(1,G,1,2,"app-alert",1),x(2,N,1,2,"app-alert",2),n(3,"header",3)(4,"h2",4),l(5,"Informaci\xF3n del Perfil"),r(),n(6,"p",5),l(7,"Personaliza c\xF3mo te ven los dem\xE1s usuarios"),r()(),n(8,"section",6)(9,"h3",7),l(10,"Foto de Perfil"),r(),n(11,"div",8)(12,"div",9),v(13,"img",10),r(),n(14,"div",11)(15,"label",12)(16,"app-button",13),l(17," Cambiar Foto "),r()(),n(18,"input",14),d("change",function(p){return t.onAvatarChange(p)}),r(),n(19,"p",15),l(20,"JPG, PNG o GIF. M\xE1ximo 2MB."),r()()()(),n(21,"section",6)(22,"h3",7),l(23,"Nombre de Usuario"),r(),n(24,"form",16),v(25,"app-form-input",17),n(26,"div",18)(27,"app-button",19),d("click",function(){return t.onSubmit()}),l(28," Guardar Cambios "),r()()()()()),e&2&&(s(),b(t.successMessage()?1:-1),s(),b(t.errorMessage()?2:-1),s(11),a("src",t.currentAvatar(),C),s(3),a("disabled",t.isLoading()),s(8),a("formGroup",t.profileForm),s(),a("control",t.profileForm.controls.username)("required",!0),s(2),a("disabled",t.profileForm.controls.username.invalid||t.isLoading()))},dependencies:[O,z,S,y,F,T,E,j],styles:['@charset "UTF-8";.settings[_ngcontent-%COMP%]{min-height:100vh;padding:3rem 0}.settings__container[_ngcontent-%COMP%]{max-width:1440px;margin:0 auto;padding:0 2rem}@media (max-width: 320px){.settings__container[_ngcontent-%COMP%]{padding:0 1rem}}.settings__layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:4rem;margin-top:3rem}@media (max-width: 768px){.settings__layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}}.settings__sidebar[_ngcontent-%COMP%]{position:sticky;top:8rem;height:fit-content;padding:3rem;padding-left:0;padding-top:0;background-color:var(--bg-primary);border-right:4px solid var(--border-color);border-bottom:4px solid var(--border-color);box-shadow:none}@media (max-width: 768px){.settings__sidebar[_ngcontent-%COMP%]{position:static;padding:2rem;border:4px solid var(--border-color);box-shadow:6px 6px #01131b}}.settings__title[_ngcontent-%COMP%]{font-size:2.625rem;line-height:3rem;font-weight:900;color:var(--text-dark);margin:0 0 3rem;text-transform:uppercase;letter-spacing:-.02em}@media (max-width: 320px){.settings__title[_ngcontent-%COMP%]{font-size:1.625rem;line-height:3rem}}.settings__nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.settings__nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1rem 2rem;background-color:var(--bg-primary);border:2px solid var(--border-color);cursor:pointer;transition:all .15s ease-in-out;font-weight:600;text-decoration:none;color:var(--text-dark);font-size:.9375rem;line-height:1.5rem}.settings__nav-item[_ngcontent-%COMP%]:hover{background-color:var(--bg-secondary);transform:translate(4px);box-shadow:4px 4px #01131b}.settings__nav-item--active[_ngcontent-%COMP%]{background-color:var(--color-primary);color:var(--bg-primary);border-color:var(--text-dark);transform:translate(4px);box-shadow:4px 4px #01131b}.settings__sidebar-footer[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:2px solid var(--border-color)}.settings__back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:var(--text-secondary);text-decoration:none;font-weight:600;font-size:.9375rem;line-height:1.5rem;transition:all .15s ease-in-out}.settings__back-link[_ngcontent-%COMP%]:hover{color:var(--color-primary);transform:translate(-4px)}.settings__content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.settings__tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}.settings__tab-header[_ngcontent-%COMP%]{padding-bottom:2rem;border-bottom:2px solid var(--border-color)}.settings__tab-title[_ngcontent-%COMP%]{font-size:2.625rem;line-height:3rem;font-weight:900;color:var(--text-dark);margin:0 0 .5rem}.settings__tab-description[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.settings__message[_ngcontent-%COMP%]{padding:2rem;margin-bottom:2rem;border:4px solid var(--border-color);font-weight:600;animation:_ngcontent-%COMP%_slideDown .3s ease-in-out ease}.settings__message--success[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--color-success) 10%,transparent);border-color:var(--color-success);color:var(--color-success)}.settings__message--error[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--color-error) 10%,transparent);border-color:var(--color-error);color:var(--color-error)}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.settings__divider[_ngcontent-%COMP%]{height:2px;background-color:var(--border-color);border:none;margin:3rem 0}.settings__divider--small[_ngcontent-%COMP%]{margin:2rem 0}.settings__section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.settings__avatar-section[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center}@media (max-width: 768px){.settings__avatar-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.settings__avatar-preview[_ngcontent-%COMP%]{flex-shrink:0}.settings__avatar-image[_ngcontent-%COMP%]{width:15rem;height:15rem;object-fit:cover;border:4px solid var(--border-color);box-shadow:6px 6px #01131b;background-color:var(--bg-secondary)}@media (max-width: 768px){.settings__avatar-image[_ngcontent-%COMP%]{width:12rem;height:12rem}}.settings__avatar-actions[_ngcontent-%COMP%], .settings__avatar-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.settings__avatar-label[_ngcontent-%COMP%]{cursor:pointer}.settings__avatar-input[_ngcontent-%COMP%]{display:none}.settings__avatar-hint[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5rem;color:var(--text-muted);margin:0}.settings__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;width:100%}.settings__form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-start;margin-top:1rem}@media (max-width: 320px){.settings__form-actions[_ngcontent-%COMP%]{flex-direction:column}.settings__form-actions[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}}.settings__field-hint[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem;color:var(--text-muted);margin:.5rem 0}.settings__password-requirements[_ngcontent-%COMP%]{padding:2rem;background-color:var(--bg-secondary);border:2px solid var(--border-color);border-radius:0}.settings__requirements-title[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5rem;font-weight:600;color:var(--text-dark);margin:0 0 1rem}.settings__requirements-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem}.settings__requirements-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5rem;color:var(--text-muted);display:flex;align-items:center;gap:.5rem;transition:color .2s ease}.settings__requirements-list[_ngcontent-%COMP%]   li.settings__requirement--met[_ngcontent-%COMP%]{color:var(--color-success);font-weight:600}.settings__requirement-icon[_ngcontent-%COMP%]{font-weight:700;width:1.25rem;text-align:center}.settings__preferences[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.settings__preference-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem;padding-bottom:2rem;border-bottom:2px solid var(--border-color)}.settings__preference-item[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.settings__preference-item--full[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.settings__preference-info[_ngcontent-%COMP%]{flex:1}.settings__preference-title[_ngcontent-%COMP%]{font-weight:600;color:var(--text-dark);margin:0 0 .5rem}.settings__preference-desc[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5rem;color:var(--text-secondary);margin:0}.settings__toggle[_ngcontent-%COMP%]{position:relative;display:inline-block;width:6rem;height:2.5rem;flex-shrink:0}.settings__toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.settings__toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .settings__toggle-slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}.settings__toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .settings__toggle-slider[_ngcontent-%COMP%]:before{transform:translate(2.5rem)}.settings__toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .settings__toggle-slider[_ngcontent-%COMP%]{box-shadow:0 0 0 3px color-mix(in srgb,var(--color-primary) 20%,transparent)}.settings__toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--text-muted);transition:.3s ease-in-out;border:2px solid var(--border-color)}.settings__toggle-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:2rem;width:2rem;left:.5rem;bottom:.5rem;background-color:var(--bg-primary);transition:.3s ease-in-out;border:2px solid var(--text-dark)}.settings__radio-group[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.settings__radio[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:1rem 2rem;border:2px solid var(--border-color);background-color:var(--bg-primary);transition:all .15s ease-in-out}.settings__radio[_ngcontent-%COMP%]:hover{background-color:var(--bg-secondary);transform:translateY(-2px);box-shadow:4px 4px #01131b}.settings__radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{appearance:none;width:1.25rem;height:1.25rem;border:3px solid var(--text-dark);background-color:var(--bg-primary);cursor:pointer;position:relative}.settings__radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked{background-color:var(--color-primary);border-color:var(--text-dark)}.settings__radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked:after{content:"";position:absolute;width:.5rem;height:.5rem;background-color:var(--text-dark);top:50%;left:50%;transform:translate(-50%,-50%)}.settings__radio-label[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5rem;font-weight:600;color:var(--text-dark)}.settings__security-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.settings__info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:2rem;background-color:var(--bg-secondary);border:2px solid var(--border-color)}@media (max-width: 320px){.settings__info-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}}.settings__info-label[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5rem;font-weight:600;color:var(--text-secondary)}.settings__info-value[_ngcontent-%COMP%]{color:var(--text-dark);font-weight:600}.settings__section--danger[_ngcontent-%COMP%]{border:3px solid var(--color-error);padding:2rem;background-color:color-mix(in srgb,var(--color-error) 5%,transparent)}.settings__danger-zone[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:2rem}@media (max-width: 768px){.settings__danger-zone[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.settings__danger-info[_ngcontent-%COMP%]{flex:1}.settings__danger-title[_ngcontent-%COMP%]{font-weight:700;color:var(--color-error);margin:0 0 .5rem}.settings__danger-desc[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.5rem;color:var(--text-secondary);margin:0}.settings__danger-button[_ngcontent-%COMP%]{flex-shrink:0}.settings__modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.settings__modal-text[_ngcontent-%COMP%]{color:var(--text-primary);margin:0}.settings__modal-text--warning[_ngcontent-%COMP%]{color:var(--color-error);font-weight:700;font-size:1rem;line-height:3rem}.settings__modal-list[_ngcontent-%COMP%]{list-style:none;padding:0 0 0 2rem;margin:0}.settings__modal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:.5rem;position:relative}.settings__modal-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:-2rem;color:var(--color-primary);font-weight:700}.settings__modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}@media (max-width: 320px){.settings__modal-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}}.settings__back-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:4rem;margin-top:4rem;border-top:2px solid var(--border-color)}.settings__footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;padding-top:2rem;border-top:2px solid var(--border-color)}']})};export{M as default};
